extends KinematicBody

var speed = 8
var rotation_speed = 4
var target = null # Ball or player to chase
var team = 1 # 1 = your team, 2 = opponent

onready var ball = get_node("/root/Main/Ball")

func _physics_process(delta):
    if target:
        var dir = (target.global_transform.origin - global_transform.origin).normalized()
        look_at(target.global_transform.origin, Vector3.UP)
        move_and_slide(dir * speed, Vector3.UP)
    else:
        # Default behavior: chase ball
        var dir = (ball.global_transform.origin - global_transform.origin).normalized()
        look_at(ball.global_transform.origin, Vector3.UP)
        move_and_slide(dir * speed, Vector3.UP)