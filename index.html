extends Node

export(PackedScene) var player_scene
export(PackedScene) var ai_scene

var team1 = []
var team2 = []

func _ready():
    spawn_teams()

func spawn_teams():
    # Spawn 11 controllable players (team1)
    for i in range(1,12):
        var p = player_scene.instance()
        p.global_transform.origin = Vector3(-8 + i*1.5,0,0) # starting positions
        get_parent().add_child(p)
        team1.append(p)
    
    # Spawn 11 AI players (team2)
    for i in range(1,12):
        var ai = ai_scene.instance()
        ai.global_transform.origin = Vector3(-8 + i*1.5,0,10) # opponent positions
        ai.team = 2
        get_parent().add_child(ai)
        team2.append(ai)
        ai.target = get_node("/root/Main/Ball") # chase the ball